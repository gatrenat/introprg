<!DOCTYPE html>
<html class="writer-html5" lang="ca" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Registres &mdash; Introducció a la programació amb Java 2023-24 documentació</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=eafc0fe6" />
      <link rel="stylesheet" type="text/css" href="_static/moistyle.css?v=0e2f4d36" />

  
    <link rel="shortcut icon" href="_static/logoprg.ico"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=4385e19b"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="_static/translations.js?v=d8dd923b"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="author" title="Quant a aquests documents" href="about.html" />
    <link rel="index" title="Índex" href="genindex.html" />
    <link rel="search" title="Cerca" href="search.html" />
    <link rel="next" title="Gestió de fitxers en Java" href="fitxers_gestio.html" />
    <link rel="prev" title="Escriptura en fitxers de text" href="fitxers_escriptura.html" />
     
    <script class="googleanalytics" src="_static/moiscripts.js"></script>
    <meta name="robots" content="noindex">

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Introducció a la programació amb Java
              <img src="_static/logoprg.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                Curs 2023-24
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="primeres_passes.html">Primeres passes</a></li>
<li class="toctree-l1"><a class="reference internal" href="basics.html">Elements bàsics de la programació</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduls.html">Mòduls</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="fitxers.html">Fitxers</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="fitxers_intro.html">Primeres definicions</a></li>
<li class="toctree-l2"><a class="reference internal" href="fitxers_lectura.html">Lectura de fitxers de text</a></li>
<li class="toctree-l2"><a class="reference internal" href="fitxers_escriptura.html">Escriptura en fitxers de text</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Registres</a></li>
<li class="toctree-l2"><a class="reference internal" href="fitxers_gestio.html">Gestió de fitxers en Java</a></li>
<li class="toctree-l2"><a class="reference internal" href="fitxers_exercicis.html">Llistat d'exercicis</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="apendix.html">Apèndix</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Introducció a la programació amb Java</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="fitxers.html">Fitxers</a></li>
      <li class="breadcrumb-item active">Registres</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="fitxers_escriptura.html" class="btn btn-neutral float-left" title="Escriptura en fitxers de text" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Anterior</a>
        <a href="fitxers_gestio.html" class="btn btn-neutral float-right" title="Gestió de fitxers en Java" accesskey="n">Següent <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
    
           <div itemprop="articleBody">
             
  <section id="registres">
<h1>Registres<a class="headerlink" href="#registres" title="Enllaça amb aquesta capçalera"></a></h1>
<p>Com sabem, els programes manipulen dades. Aquestes dades, de vegades, són
independents entre si.</p>
<p>Per exemple, considera el següent exercici com a exemple:</p>
<p><img alt="exerciseicon__T" src="_images/exerciseicon__T.png" /> <a class="reference internal" href="exercici_33_07_classificador.html"><span class="doc"> Exercici 33_07. Classificador de matrícules</span></a></p>
<p>En l'exercici anterior, les diferents matrícules no estan relacionades
entre si. És a dir, una matrícula és independent de la resta.</p>
<p>D'altres vegades, però, les dades estan relacionades entre si. Per
exemple, el contingut de les caselles d'un taulell de tres en ratlla, o
els valors del dia, mes i any d'una data.</p>
<p>En el primer cas, es tracta de
nou valors que composen una situació concreta del joc. Cada element té un
significat independent, és clar, però estaràs d'acord amb mi que,
malgrat els següents dos taulells tenen el mateix valor per la casella <code class="docutils literal notranslate"><span class="pre">(0,</span>
<span class="pre">0)</span></code>, no signifiquen el mateix.</p>
<a class="reference internal image-reference" href="_images/tictactoebasicOXwon.svg"><img alt="_images/tictactoebasicOXwon.svg" class="align-center" src="_images/tictactoebasicOXwon.svg" width="50%" /></a>
<p>De la mateixa manera, en les dates <code class="docutils literal notranslate"><span class="pre">29</span> <span class="pre">d'octubre</span> <span class="pre">1995</span></code> i <code class="docutils literal notranslate"><span class="pre">29</span> <span class="pre">de</span> <span class="pre">febrer</span>
<span class="pre">de</span> <span class="pre">2001</span></code>, coincideixen en el valor del dia (<code class="docutils literal notranslate"><span class="pre">29</span></code>) però no signifiquen
el mateix. En el segon fa la data errònia!</p>
<p>Els dos exemples tenen, però, una cosa en comú: els diferents elements són
del mateix tipus i, per tant, es poden codificar amb un array.</p>
<p>Hi ha la possibilitat de que tinguem dades relacionades entre sí que no
siguin del mateix tipus? La resposta és, és clar, sí.</p>
<section id="agrupacions-de-diferents-tipus-de-dades">
<h2>Agrupacions de diferents tipus de dades<a class="headerlink" href="#agrupacions-de-diferents-tipus-de-dades" title="Enllaça amb aquesta capçalera"></a></h2>
<p>Ja n'hem vist d'exemples. Un de recent va ser el de l'exercici en que vam
treballar el format <a class="reference internal" href="exercici_33_03_csv.html"><span class="doc">csv</span></a>.</p>
<p>En aquella ocasió, cada línia del fitxer de <code class="docutils literal notranslate"><span class="pre">notes.csv</span></code> contenia el nom
d'un alumne i les 6 notes corresponents a les unitats formatives del mòdul
de programació.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"> $ </span>cat<span class="w"> </span>notes.csv
<span class="hll"><span class="go"> alumne,uf1,uf2,uf3,uf4,uf5,uf6</span>
</span><span class="hll"><span class="go"> Eleftèria Ortiz Luján,7,8,5,7,8,9</span>
</span><span class="hll"><span class="go"> Daniel Carrasco Macadàmia,5,4,5,2,NP,NP</span>
</span><span class="hll"><span class="go"> Gabriela Cirerer Nasal,6,7,5,8,9,5</span>
</span></pre></div>
</div>
<p>Mentre que les notes les podem representar amb un array d'enters, no tenim
manera de vincular el nom amb les notes dins del mateix array.</p>
<p>Això ens obliga a fer servir <em>trucs</em> més o menys hàbils. Per exemple,
podem tenir els noms dels alumnes en un array de String, i les notes en
una taula d'enters, de manera que la posició dins l'array de noms d'un
alumne correspongui amb la fila de la taula de notes del mateix alumne.</p>
<p>El següent diagrama representaria aquestes estructures de dades:</p>
<img alt="_images/alumnesinotes_01.svg" class="align-center" src="_images/alumnesinotes_01.svg" /><p><strong>Nota</strong>: he codificat el valor de <em>no presentat</em> o <code class="docutils literal notranslate"><span class="pre">NP</span></code> com un <code class="docutils literal notranslate"><span class="pre">-1</span></code>
per simplicitat, ja que és molt fàcil de codificar com un enter.</p>
<p>Així, si volem saber la nota de la UF3 de l'Eleftèria, com que el nom de
l'alumna es troba a la posició <code class="docutils literal notranslate"><span class="pre">0</span></code> de l'array  <code class="docutils literal notranslate"><span class="pre">noms</span></code>, les seves notes
es trobaran a la fila <code class="docutils literal notranslate"><span class="pre">0</span></code> de l'array <code class="docutils literal notranslate"><span class="pre">notes</span></code> i la nota de la UF3
correspondrà amb la tercera columna. Per tant, la nota serà
<code class="docutils literal notranslate"><span class="pre">notes[0][2]</span></code> que va ser un <code class="docutils literal notranslate"><span class="pre">5</span></code>.</p>
<p>Si volguéssim fer un programa que ens digués una nota d'un alumne a partir
del seu nom, ens tocaria cercar el nom a <code class="docutils literal notranslate"><span class="pre">noms</span></code> i, si hi és, a partir de
la posició del nom, trobaríem la fila on es troben les notes. De la
mateixa manera, si ens interessés saber quins alumnes han suspès alguna
UF, hauríem de recórrer totes les notes de <code class="docutils literal notranslate"><span class="pre">notes</span></code> i, cada cop que
trobem una amb valor inferior a 5, agafaríem la fila de la nota i
indexaríem amb ella l'array <code class="docutils literal notranslate"><span class="pre">noms</span></code> per obtenir el nom de l'alumne.</p>
<p>Què passaria si les dades per cada alumne incloguessin altres elements com
ara, el correu electrònic, l'edat,
si ve d'oient…? Doncs bàsicament que hauríem de disposar d'arrays per
cadascuna de les dades de tipus diferent i assegurar-nos que cada posició
correspon al mateix alumne.</p>
<p>No seria més còmode disposar d'una mena d'array que ens permetés agrupar
dades de diferents tipus, en comptes de tenir-les així de <em>disperses</em>?</p>
<p>Els llenguatges de programació solen oferir mecanismes per realitzar
aquesta agrupació.
En el cas de Java, la realitzarem mitjançant una <em>classe</em><a class="footnote-reference brackets" href="#javarecords" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>.
Fixa't en el següent fragment de codi:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">static</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Alumne</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">nom</span><span class="p">;</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">email</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">edat</span><span class="p">;</span>
<span class="w">    </span><span class="kt">boolean</span><span class="w"> </span><span class="n">esOient</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="o">[]</span><span class="w"> </span><span class="n">notes</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Fixa't que no he posat <code class="docutils literal notranslate"><span class="pre">public</span></code> davant de <code class="docutils literal notranslate"><span class="pre">class</span></code> però sí <code class="docutils literal notranslate"><span class="pre">static</span></code>.
D'aquesta manera, Java ens permetrà incloure aquest fragment de codi dins
la classe del nostre programa:</p>
<blockquote>
<div><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">GestionaAlumnes</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">static</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Alumne</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">nom</span><span class="p">;</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">email</span><span class="p">;</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">edat</span><span class="p">;</span>
<span class="w">        </span><span class="kt">boolean</span><span class="w"> </span><span class="n">esOient</span><span class="p">;</span>
<span class="w">        </span><span class="kt">int</span><span class="o">[]</span><span class="w"> </span><span class="n">notes</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// …</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<p>Per representar la nostra companya Eleftèria, fent servir aquesta
<em>classe</em>, farem el següent:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">Alumne</span><span class="w"> </span><span class="n">alumne</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Alumne</span><span class="p">();</span>
<span class="linenos">2</span><span class="n">alumne</span><span class="p">.</span><span class="na">nom</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Eleftèria Ortiz Luján&quot;</span><span class="p">;</span>
<span class="linenos">3</span><span class="n">alumne</span><span class="p">.</span><span class="na">email</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;elefteria.ortiz@mevaempresa.org&quot;</span><span class="p">;</span>
<span class="linenos">4</span><span class="n">alumne</span><span class="p">.</span><span class="na">edat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">19</span><span class="p">;</span>
<span class="linenos">5</span><span class="n">alumne</span><span class="p">.</span><span class="na">esOient</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="linenos">6</span><span class="n">alumne</span><span class="p">.</span><span class="na">notes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">int</span><span class="o">[]</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="p">};</span>
</pre></div>
</div>
<p>En primer lloc hem declarat una variable anomenada <code class="docutils literal notranslate"><span class="pre">alumne</span></code> de tipus
<code class="docutils literal notranslate"><span class="pre">Alumne</span></code>. Potser et sorprèn que puguem fer servir el que acabem de crear
com si fos un tipus més. En el fons és el que és!</p>
<p>En la mateixa línia inicialitzem la variable <code class="docutils literal notranslate"><span class="pre">alumne</span></code> amb el resultat de
l'expressió <code class="docutils literal notranslate"><span class="pre">new</span> <span class="pre">Alumne()</span></code>. Aquesta expressió reservarà un espai en
memòria suficient com per poder guardar totes les dades de que es composa
un <code class="docutils literal notranslate"><span class="pre">Alumne</span></code>. A banda d'aconseguir aquest espai, resultarà en una
referència a la posició de memòria on es troba. Aquesta referència és el
valor que acaba prenent la variable <code class="docutils literal notranslate"><span class="pre">alumne</span></code>. És una referència i no un
valor directament perquè <code class="docutils literal notranslate"><span class="pre">Alumne</span></code> no és un tipus primitiu.</p>
<p>Cal tenir clar que amb la primera línia només tenim reservat un espai per
poder emmagatzemar les dades que corresponen a un alumne però no tenim les
dades de l'alumne!</p>
<a class="reference internal image-reference" href="_images/alumnesinotes_02.svg"><img alt="_images/alumnesinotes_02.svg" class="align-center" src="_images/alumnesinotes_02.svg" width="25%" /></a>
<p>És el mateix que passava quan inicialitzavem un array: el seu contingut
encara no existia. Així, en crear l'alumne, els seus camps han obtingut
els valors base. Per exemple, l'edat serà 0, <code class="docutils literal notranslate"><span class="pre">esOient</span></code> serà <code class="docutils literal notranslate"><span class="pre">false</span></code> i
la resta serà <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p>
<p>A aquest espai reservat per contenir les dades d'un alumne, li direm
<em>instància</em>. Així, la referència que assignem a la variable <code class="docutils literal notranslate"><span class="pre">alumne</span></code> és
una <em>instància</em> de tipus <code class="docutils literal notranslate"><span class="pre">Alumne</span></code>, com <code class="docutils literal notranslate"><span class="pre">&quot;Eleftèria</span> <span class="pre">Ortiz</span> <span class="pre">Luján&quot;</span></code> és
una instància de String.</p>
<p>A continuació hem inicialitzat els diferents <em>camps</em> o característiques de
la nostra companya.</p>
<p>Si recordes, per accedir als valors d'un array, havíem d'indexar-lo.
Per exemple, <code class="docutils literal notranslate"><span class="pre">noms[2]</span></code> es refereix al tercer element de l'array
<code class="docutils literal notranslate"><span class="pre">noms</span></code>.</p>
<p>Per accedir als valors de les diferents propietats vindria a ser quelcom
similar. La diferència és que els elements que composen l'alumne no els
indexem per posició sinó pel nom de la propietat. La notació en Java per
indexar és fer servir el punt seguit del nom de la propietat:
<code class="docutils literal notranslate"><span class="pre">alumne.nom</span></code>.</p>
<p>Tal i com tenim definit <code class="docutils literal notranslate"><span class="pre">Alumne</span></code>, podem consultar el valor d'un camp i
modificar-lo, fent servir la mateixa notació del punt.</p>
<p>Podríem representar aquesta instància d'aquest <code class="docutils literal notranslate"><span class="pre">Alumne</span></code> de la següent
manera:</p>
<img alt="_images/alumnesinotes_03.svg" class="align-center" src="_images/alumnesinotes_03.svg" /><p>Així, si per exemple, volem accedir a la nota de la UF3 simplement hem de
fer servir l'expressió <code class="docutils literal notranslate"><span class="pre">alumne.notes[2]</span></code>.</p>
</section>
<section id="moduls-associats">
<h2>Mòduls associats<a class="headerlink" href="#moduls-associats" title="Enllaça amb aquesta capçalera"></a></h2>
<p>Quan definim un nou tipus de dades, sovint hi ha una sèrie de mòduls que
ens seran útils per manipular aquestes dades.</p>
<section id="constructor">
<h3>Constructor<a class="headerlink" href="#constructor" title="Enllaça amb aquesta capçalera"></a></h3>
<p>Un dels més típics és l'<em>inicialitzador</em> o més comúnment anomenat
<em>constructor</em>. Es tracta d'un mòdul que en cridar-lo, ens retorna una
instància amb els valors desitjats.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">Alumne</span><span class="w"> </span><span class="nf">construeixAlumne</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">nom</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">email</span><span class="p">,</span>
<span class="w">                                      </span><span class="kt">int</span><span class="w"> </span><span class="n">edat</span><span class="p">,</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="n">esOient</span><span class="p">,</span>
<span class="w">                                      </span><span class="kt">int</span><span class="o">[]</span><span class="w"> </span><span class="n">notes</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="n">Alumne</span><span class="w"> </span><span class="n">alumne</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Alumne</span><span class="p">();</span>
<span class="w">   </span><span class="n">alumne</span><span class="p">.</span><span class="na">nom</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nom</span><span class="p">;</span>
<span class="w">   </span><span class="n">alumne</span><span class="p">.</span><span class="na">email</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">email</span><span class="p">;</span>
<span class="w">   </span><span class="n">alumne</span><span class="p">.</span><span class="na">edat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">edat</span><span class="p">;</span>
<span class="w">   </span><span class="n">alumne</span><span class="p">.</span><span class="na">esOient</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">esOient</span><span class="p">;</span>
<span class="w">   </span><span class="n">alumne</span><span class="p">.</span><span class="na">notes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">notes</span><span class="p">;</span>
<span class="w">   </span><span class="k">return</span><span class="w"> </span><span class="n">alumne</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Així, podríem crear una nova instància per la nostra estudiant Eleftèria
de la següent manera:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Alumne</span><span class="w"> </span><span class="n">alumne</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">construeixAlumne</span><span class="p">(</span><span class="s">&quot;Eleftèria Ortiz Luján&quot;</span><span class="p">,</span>
<span class="w">                                 </span><span class="s">&quot;elefteria.ortiz@mevaempresa.org&quot;</span><span class="p">,</span>
<span class="w">                                 </span><span class="mi">19</span><span class="p">,</span>
<span class="w">                                 </span><span class="kc">false</span><span class="p">,</span>
<span class="w">                                 </span><span class="k">new</span><span class="w"> </span><span class="kt">int</span><span class="o">[]</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="p">});</span>
</pre></div>
</div>
<p><strong>Nota</strong>: fixa't que l'hem anomenat <code class="docutils literal notranslate"><span class="pre">construeixAlumne()</span></code> i no
<code class="docutils literal notranslate"><span class="pre">contrueix()</span></code>. En indicar que el que construeix és <code class="docutils literal notranslate"><span class="pre">Alumne</span></code>, evitem
problemes si el nostre programa també ha de construir altres tipus nous
com ara <code class="docutils literal notranslate"><span class="pre">Docent</span></code>, <code class="docutils literal notranslate"><span class="pre">Classe</span></code>, etc.<a class="footnote-reference brackets" href="#nocal" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a></p>
<p>De moment, seguirem aquest patró d'anomenament de mòduls associats.</p>
</section>
<section id="mostrar-valors">
<h3>Mostrar valors<a class="headerlink" href="#mostrar-valors" title="Enllaça amb aquesta capçalera"></a></h3>
<p>Per poder veure el contingut d'un alumne, haurem de mostrar cadascun dels
seus camps. Una manera seria:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">mostraAlumne</span><span class="p">(</span><span class="n">Alumne</span><span class="w"> </span><span class="n">alumne</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Alumne: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">alumne</span><span class="p">.</span><span class="na">nom</span><span class="p">);</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;- email: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">alumne</span><span class="p">.</span><span class="na">email</span><span class="p">);</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;- edat: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">alumne</span><span class="p">.</span><span class="na">edat</span><span class="p">);</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;- és oïent: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">alumne</span><span class="p">.</span><span class="na">esOient</span><span class="o">?</span><span class="s">&quot;Sí&quot;</span><span class="p">:</span><span class="s">&quot;No&quot;</span><span class="p">));</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;- notes: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">notesACsv</span><span class="p">(</span><span class="n">alumne</span><span class="p">.</span><span class="na">notes</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</div>
<p>En cridar-lo, si definim adequadament la funció <code class="docutils literal notranslate"><span class="pre">String</span>
<span class="pre">notesACsv(int[])</span></code>, ens treurà per sortida estàndard el següent contingut:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Alumne: Eleftèria Ortiz Luján</span>
<span class="go">- email: elefteria.ortiz@mevaempresa.org</span>
<span class="go">- edat: 19</span>
<span class="go">- és oïent: No</span>
<span class="go">- notes: 7,8,5,7,8,9</span>
</pre></div>
</div>
<p>Sovint és útil aconseguir la versió de l'alumne en format String per, per
exemple, ajudar-nos a depurar el codi. Per exemple:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">alumneAString</span><span class="p">(</span><span class="n">Alumne</span><span class="w"> </span><span class="n">alumne</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">String</span><span class="p">.</span><span class="na">format</span><span class="p">(</span>
<span class="w">            </span><span class="s">&quot;Alumne(nom: \&quot;%s\&quot;, email: \&quot;%s\&quot;, &quot;</span><span class="w"> </span><span class="o">+</span>
<span class="w">            </span><span class="s">&quot;edat: %d, esOient: %b, notes: {%s})&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="n">alumne</span><span class="p">.</span><span class="na">nom</span><span class="p">,</span><span class="w"> </span><span class="n">alumne</span><span class="p">.</span><span class="na">email</span><span class="p">,</span><span class="w"> </span><span class="n">alumne</span><span class="p">.</span><span class="na">edat</span><span class="p">,</span><span class="w"> </span><span class="n">alumne</span><span class="p">.</span><span class="na">esOient</span><span class="p">,</span>
<span class="w">            </span><span class="n">notesACsv</span><span class="p">(</span><span class="n">alumne</span><span class="p">.</span><span class="na">notes</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</div>
<p>En fer la crida <code class="docutils literal notranslate"><span class="pre">alumneAString(alumne)</span></code> sobre la instància de Eleftèria
rebrem el String:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Alumne(nom: &quot;Eleftèria Ortiz Luján&quot;, email: &quot;elefteria.ortiz@mevaempresa.org&quot;, edat: 19, esOient: false, notes: {7,8,5,7,8,9})</span>
</pre></div>
</div>
</section>
<section id="serialitzacio">
<h3>Serialització<a class="headerlink" href="#serialitzacio" title="Enllaça amb aquesta capçalera"></a></h3>
<p>Com que estem en el tema de persistència en fitxers, ens pot ser
interessant disposar de mòduls que ens permetin convertir una instància
d'alumne a quelcom que puguem guardar en un fitxer i després recuperar-lo.</p>
<p>Per exemple, ens pot ser interessant que les dades d'un alumne es guardin
en forma línia dins d;un fitxer csv.</p>
<p>Així, podríem desenvolupar els mòduls següents:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">alumneACsv</span><span class="p">(</span><span class="n">Alumne</span><span class="w"> </span><span class="n">alumne</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">Alumne</span><span class="w"> </span><span class="nf">csvAAlumne</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">linea</span><span class="p">)</span>
</pre></div>
</div>
<p>Així, per exemple, en cridar <code class="docutils literal notranslate"><span class="pre">alumneACsv(alumne)</span></code> amb el valor
<code class="docutils literal notranslate"><span class="pre">alumne</span></code> en que havíem guardat les dades d'Eleftèria, ens retornaria:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">&quot;Eleftèria Ortiz Luján,elefteria.ortiz@mevaempresa.org,10,false,7,8,5,7,8,9&quot;</span>
</pre></div>
</div>
<p>Al procés de convertir l'alumne a una seqüència de text se li sol anomenar
<em>serialitzar</em>, mentre que la recuperació d'una instància a partir de la
seva serialització se li anomena <em>deserialitzar</em>.</p>
<p>De fet, la funció <code class="docutils literal notranslate"><span class="pre">alumneAString()</span></code> que hem vist abans també es una
manera de <em>serialitzar</em> un alumne. Segurament estaràs  d'acord amb mi que
és més fàcil desenvolupar la funció de deserialització a partir de un csv
que del resultat de <code class="docutils literal notranslate"><span class="pre">alumneAString()</span></code>.</p>
</section>
</section>
<section id="arrays-d-alumnes">
<h2>Arrays d'alumnes<a class="headerlink" href="#arrays-d-alumnes" title="Enllaça amb aquesta capçalera"></a></h2>
<p>Un cop disposem del tipus <code class="docutils literal notranslate"><span class="pre">Alumne</span></code> podem fer coses tan interessants com
crear un array d'alumnes!</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Alumne</span><span class="o">[]</span><span class="w"> </span><span class="n">alumnes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Alumne</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span><span class="p">;</span>
</pre></div>
</div>
<p>És clar que totes les posicions d'aquest array tenen com a valor <code class="docutils literal notranslate"><span class="pre">null</span></code>
de moment.</p>
<p>Podem donar-li d'alta nous valors:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">alumnes</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">alumne</span><span class="p">;</span><span class="w">         </span><span class="c1">// aprofitem la instància d&#39;Eleftèria</span>

<span class="n">alumnes</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Alumne</span><span class="p">();</span><span class="w">   </span><span class="c1">// un alumne buit</span>
<span class="n">alumnes</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span><span class="p">.</span><span class="na">nom</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Daniel Carrasco Macadàmia&quot;</span><span class="p">;</span>
<span class="n">alumnes</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span><span class="p">.</span><span class="na">email</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;daniel.carrasco@mevaempresa.org&quot;</span><span class="p">;</span>
<span class="n">alumnes</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span><span class="p">.</span><span class="na">edat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">21</span><span class="p">;</span>
<span class="n">alumnes</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span><span class="p">.</span><span class="na">esOient</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="n">alumnes</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span><span class="p">.</span><span class="na">notes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">int</span><span class="o">[]</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="p">};</span>

<span class="n">alumnes</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">construeixAlumne</span><span class="p">(</span><span class="s">&quot;Gabriela Cirerer Nasal&quot;</span><span class="p">,</span>
<span class="w">                              </span><span class="s">&quot;gabriela.cirerer@mevaempresa.org&quot;</span><span class="p">,</span>
<span class="w">                              </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">                              </span><span class="k">new</span><span class="w"> </span><span class="kt">int</span><span class="o">[]</span><span class="w"> </span><span class="p">{</span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">});</span>
</pre></div>
</div>
<p>Per accedir a la nota de la UF3 d'Eleftèria, ara també ho podem fer a
partir de l'array <code class="docutils literal notranslate"><span class="pre">alumnes</span></code> amb l'expressió <code class="docutils literal notranslate"><span class="pre">alumnes[0].notes[2]</span></code>.</p>
<p>De fet, podríem mostrar les notes de la UF3 per tots els alumnes amb el
bucle:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">&lt;</span><span class="n">alumnes</span><span class="p">.</span><span class="na">length</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">printf</span><span class="p">(</span><span class="s">&quot;La nota de la UF3 de %s és %d%n&quot;</span><span class="p">,</span>
<span class="w">                      </span><span class="n">alumnes</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">.</span><span class="na">nom</span><span class="p">,</span>
<span class="w">                      </span><span class="n">alumnes</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">.</span><span class="na">notes</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>No està malament, oi?</p>
<p><img alt="exerciseicon__T" src="_images/exerciseicon__T.png" /> <a class="reference internal" href="exercici_33_08_alumnes.html"><span class="doc"> Exercici 33_08. Alumnes</span></a></p>
<hr class="docutils" />
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="javarecords" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p>La versió de Java que fem servir en aquest curs, ofereix
la possibilitat de declarar els registres d'una manera més directa,
mitjançant l'estructura <code class="docutils literal notranslate"><span class="pre">record</span></code>.</p>
<p>Per exemple, podríem agrupar la informació d'un alumne de la següent
manera:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="kd">record</span> <span class="nc">Alumne</span><span class="p">(</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">nom</span><span class="p">,</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">email</span><span class="p">,</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">edat</span><span class="p">,</span>
<span class="w">        </span><span class="kt">boolean</span><span class="w"> </span><span class="n">esOient</span><span class="p">,</span>
<span class="w">        </span><span class="kt">int</span><span class="o">[]</span><span class="w"> </span><span class="n">notes</span>
<span class="p">)</span><span class="w"> </span><span class="p">{}</span>
</pre></div>
</div>
<p>Si bé aquesta manera resulta molt compacta i més propera al concepte
de <em>registre</em> que tractem en aquesta secció, no la farem servir en
aquests apunts, principalment perquè fent servir <code class="docutils literal notranslate"><span class="pre">class</span></code> ens prepara
el camí per entendre conceptes molt importants que veurem més endavant
(classes i objectes)</p>
<p>Amb tot, és possible que et vingui de gust experimentar amb <code class="docutils literal notranslate"><span class="pre">record</span></code>. Si
és així, endavant!</p>
</aside>
<aside class="footnote brackets" id="nocal" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">2</a><span class="fn-bracket">]</span></span>
<p>En Java no caldria distingir si hem de construir un <code class="docutils literal notranslate"><span class="pre">Alumne</span></code> o
un <code class="docutils literal notranslate"><span class="pre">Docent</span></code>, ja que el llenguatge permet definir les funcions
<code class="docutils literal notranslate"><span class="pre">Alumne</span> <span class="pre">construeix(Alumne)</span></code> i <code class="docutils literal notranslate"><span class="pre">Docent</span> <span class="pre">construeix(Docent)</span></code> sense que hi
hagi problemes de coŀlisió amb el nom. Per Java les dues funcions són
diferents ja que, encara que es diguin igual, el tipus del seus arguments
és diferent.</p>
</aside>
</aside>
</section>
</section>


           </div>
          </div>
    <div class="googleanalytics">
    <div id="cookiesbox">
        Aquest lloc web utilitza galetes (<i>cookies</i>) per a analitzar el seu ús
        amb les eines que ofereix <a href="https://www.google.com/analytics">Google Analytics</a>.
        En continuar navegant-hi, estàs acceptant-ho.
        <br/>
        <a class="btn btn-neutral" onclick="setUserAcceptsCookies();">
            Tancar
            <span class="fa fa-window-close"></span>
        </a>
    </div>
    <script>setCookiesboxVisibility();</script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-41103782-2', 'auto');
      ga('send', 'pageview');
    </script>
</div>

          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="fitxers_escriptura.html" class="btn btn-neutral float-left" title="Escriptura en fitxers de text" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Anterior</a>
        <a href="fitxers_gestio.html" class="btn btn-neutral float-right" title="Gestió de fitxers en Java" accesskey="n" rel="next">Següent <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023-2024 Moisès Gómez Girón.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-41103782-2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-41103782-2', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>