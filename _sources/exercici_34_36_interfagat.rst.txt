##########################################################
|exerciseicon__T| Exercici 34_36. Gat Renat amb Interfaces
##########################################################

.. rubric:: Context

* Carpeta de lliurament: ``34_36_interfagat/``

* Continguts relacionats: :doc:`poo_interfaces`

* Com lliurar-lo: :ref:`instruccions <instruccions_git>`

* [✓] Exercici amb :ref:`autoavaluació<descripcio_exercicis_autoavaluacio>`

.. rubric:: Enunciat


Considera aquesta nova jerarquia de classes:

.. uml::
    :align: center

     @startuml
     hide circle
     skinparam monochrome true
     skinparam classAttributeIconSize 0

     interface EsserViu {
        + esViu(): boolean
        + mor(): String
        + reviu(): String
     }
     interface Ensinistrable {
         + esDret(): boolean
         + esAssegut(): boolean
         + esEstirat(): boolean
         + aixecat(): String
         + seu(): String
         + estirat(): String
     }
     interface AnimalDeCompanyia {
        deixatEstimar(): String
     }
     class Gat {
         - vides: int = 7
         - nom: String = "anònim"
         + Gat(nom:String)
         + Gat(nom:String, vides: int)
         + getNom(): String
         + getVides(): int
         + setVides(int)
     }
     class GatRenat {
        - posicio: String = "estirat"
        + GatRenat()
        + GatRenat(posicio: String)
        + getPosicio(): String
     }
     class Gat implements EsserViu

     class GatRenat extends Gat
     class Garfield extends Gat
     class GatSalvatge extends Gat
     class Garfield implements AnimalDeCompanyia
     class GatRenat implements AnimalDeCompanyia, Ensinistrable

     @enduml

A aquesta jerarquia, els gats són éssers vius i, per tant, tenen vides,
poden morir i (recorda que és un exercici) ressuscitar.

Tota instància de gat ha de tenir un nom i no es pot canviar. En cas que
el nom que reben els constructors no sigui vàlid (``null`` o buit o tot
d'espais blancs) es posarà com a nom per defecte ``"anònim"``.

Els gat Renat i els gats Garfield són gats i animals de companyia. Els
gats salvatges són també gats però no animals de companyia. A banda, els
Renats són també ensinistrables.

Els mètodes a implementar presenten les següents sortides:

=============== ================ ===================================================================
Classe          mètode           Sortida
--------------- ---------------- -------------------------------------------------------------------
GatRenat        aixecat()        ``"ja m'aixeco"`` si no estava dret, ``"passo de fer res"`` altrament
GatRenat        seu()            ``"ja m'assec"`` si no estava assegut, ``"passo de fer res"`` altrament
GatRenat        estirat()        ``"ja m'estiro"`` si estava estirat, ``"passo de fer res"`` altrament
GatRenat        deixatEstimar()  ``"em deixo estimar"``
Garfield        deixatEstimar()  ``"em deixo estimar, però només una mica"``
Gat             mor()            ``"adéu món cruel"`` si estava viu, ``"ja l'he espifiada"`` altrament
Gat             ressuscita()     ``"encara miolo"`` si estava viu, ``"guai!"`` altrament
=============== ================ ===================================================================

Per provar el funcionament de tot el conjunt, hauràs de poder executar el següent codi:

Els noms dels tres gats concretats són:

* ``GatRenat``:  ``"Renat"``

* ``Garfield``:  ``"Garfield"``

* ``GatSalvatge``:  ``"Gat Salvatge"``

Considera la següent plantilla per comprovar que la teva implementació disposa
dels mínims:

.. code-block:: java
    :linenos:

    public class UsaInterfagats {
        public static void main(String[] args) {
            GatRenat renat = new GatRenat();
            Garfield garfield = new Garfield();
            GatSalvatge gatSalvatge = new GatSalvatge();
            Gat gargamel = new Gat("Gargamel"); 
            Gat[] gats = { renat, garfield, gatSalvatge, gargamel };
            AnimalDeCompanyia[] animalsDeCompanyia = { renat, garfield };
            Ensinistrable[] ensinistrables = { renat };
            EsserViu[] essersVius = {renat, garfield, gatSalvatge, gargamel };
                
            System.out.println("Comprovem els mètodes de ensinistrable");
            System.out.println("======================================");
            // XXX per cada element de l'array ensinistrable crida els
            // serveis següents en l'ordre indicat i mostra el seu resultat:
            for (Ensinistrable ensinistrable: ensinistrables) {
                // 1. demana que s'aixequi
                // 2. demana si està dret
                // 3. demana que segui
                // 4. demana si està assegut
                // 5. demana que s'estiri
                // 6. demana si està estirat
            }


            System.out.println();
            System.out.println("Comprovem els mètodes d'AnimalDeCompanyia");
            System.out.println("=========================================");
            // XXX per cada element de l'array animalsDeCompanyia crida els
            // serveis següents en l'ordre indicat i mostra el seu resultat:
            // 1. demana que es deuxi estimar

            System.out.println();
            System.out.println("Comprovem els mètodes d'Esser viu");
            System.out.println("=================================");
            // XXX per cada element de l'array essersVius crida els
            // serveis següents en l'ordre indicat i mostra el seu resultat:
            // 1. demana si està viu
            // 2. demana que mori
            // 3. demana que revisqui

            System.out.println();
            System.out.println("Comprovem els mètodes de Gat");
            System.out.println("============================");
            // XXX per cada element de l'array gats crida els
            // serveis següents en l'ordre indicat i mostra el seu resultat:
            // 1. demana el nom
            // 2. assigna-li una única vida
            // 3. demana que revisqui
            // 4. demana que mori
            // 5. demana que mori un altre cop
            // 6. demana si està viu
            // 7. demana que revisqui
            // 8. demana quantes vides li queden

        }
    }

La sortida esperada és: 

.. code-block:: console
    :emphasize-lines: 2-

    $ java UsaInterfagats 
    Comprovem els mètodes de ensinistrable
    ======================================
    ja m'aixeco
    true
    ja m'assec
    true
    ja m'estiro
    true

    Comprovem els mètodes d'AnimalDeCompanyia
    =========================================
    em deixo estimar
    em deixo estimar, però només una mica

    Comprovem els mètodes d'Esser viu
    =================================
    true
    adéu món cruel
    encara miolo
    true
    adéu món cruel
    encara miolo
    true
    adéu món cruel
    encara miolo
    true
    adéu món cruel
    encara miolo

    Comprovem els mètodes de Gat
    ============================
    Renat
    encara miolo
    adéu món cruel
    ja l'he espifiada
    false
    guai!
    1
    Garfield
    encara miolo
    adéu món cruel
    ja l'he espifiada
    false
    guai!
    1
    Gat Salvatge
    encara miolo
    adéu món cruel
    ja l'he espifiada
    false
    guai!
    1
    Gargamel
    encara miolo
    adéu món cruel
    ja l'he espifiada
    false
    guai!
    1

.. important:: per què ``prgtest`` et digui que tot està correcte, caldrà que
   implementis exactament els elements indicats al diagrama. La meva
   recomanació és que comencis a fer-ho de zero i no reaprofitis codis
   anteriors.
